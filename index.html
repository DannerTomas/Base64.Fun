<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base64 在线编码解码</title>
	<!-- SEO Meta Tags -->
    <meta name="description" content="Base64在线编码解码工具，文本转换为Base64编码；编解码Base64字符串，将文件编码为Base64格式。">
    <meta name="keywords" content="base64, 编码, 解码, base64编码, base64解码, base64加密, base64解密, 在线工具, 文本转换器, 文件转base64">
    <meta name="author" content="Base64.Fun">
    <meta name="robots" content="index, follow">
    
    <!-- Multilingual SEO -->
    <link rel="alternate" hreflang="zh-Hans" href="https://base64.fun/">
    <link rel="alternate" hreflang="x-default" href="https://base64.fun/">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Base64.Fun - Base64在线编码解码工具">
    <meta property="og:description" content="Base64在线编码解码工具，文本转换为Base64编码；编解码Base64字符串，将文件编码为Base64格式。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://base64.fun/">
    <meta property="og:site_name" content="Base64.Fun">
	
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        .container {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 24px;
            margin-bottom: 20px;
            flex: 1;
        }
        
        h1 {
            font-weight: 500;
            color: #3f51b5;
            margin-bottom: 20px;
            font-size: 24px;
        }
        
        .input-group, .output-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }
        
        textarea {
            width: 100%;
            min-height: 150px;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Roboto', sans-serif;
            font-size: 16px;
            resize: vertical;
            transition: border-color 0.3s;
        }
        
        textarea:focus {
            outline: none;
            border-color: #3f51b5;
            box-shadow: 0 0 0 2px rgba(63, 81, 181, 0.2);
        }
        
        .button-group {
            display: flex;
            gap: 12px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background-color: #3f51b5;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s, box-shadow 0.3s;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        button:hover {
            background-color: #303f9f;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        button:active {
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        
        button.secondary {
            background-color: #757575;
        }
        
        button.secondary:hover {
            background-color: #616161;
        }
        
        .file-upload-group {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 15px 0;
            padding: 12px;
            background-color: #f9f9f9;
            border-radius: 4px;
        }
        
        .file-info {
            font-size: 14px;
            color: #757575;
        }
        
        .options-group {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 15px 0;
            padding: 12px;
            background-color: #f9f9f9;
            border-radius: 4px;
        }
        
        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }
        
        .checkbox-container input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .stats {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
            padding: 16px;
            background-color: #f9f9f9;
            border-radius: 4px;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
        }
        
        .stat-label {
            font-size: 14px;
            color: #757575;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: 500;
            color: #3f51b5;
        }
        
        .tab-container {
            margin-top: 30px;
        }
        
        .tab-headers {
            display: flex;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 20px;
        }
        
        .tab-header {
            padding: 12px 24px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .tab-header.active {
            color: #3f51b5;
            border-bottom: 2px solid #3f51b5;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .info-content ul {
            margin-left: 20px;
            margin-bottom: 12px;
            list-style-position: inside;
        }
        
        .info-content li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 10px;
        }
        
        .info-content li::marker {
            color: #3f51b5;
            font-weight: bold;
        }
        
        .code-section {
            margin-bottom: 30px;
            display: none;
        }
        
        .code-section.active {
            display: block;
        }
        
        .code-section h3 {
            margin-bottom: 10px;
            color: #3f51b5;
        }
        
        pre {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .language-tabs {
            display: flex;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 20px;
            justify-content: flex-start;
        }
        
        .language-tab {
            padding: 8px 16px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            font-weight: 500;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .language-tab.active {
            color: #3f51b5;
            border-bottom: 2px solid #3f51b5;
        }
        
        .footer {
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            color: #757575;
            font-size: 14px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .privacy-note {
            max-width: 600px;
            line-height: 1.5;
        }
        
        .github-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #333;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        .github-link:hover {
            background-color: #555;
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background-color: #323232;
            color: white;
            padding: 12px 24px;
            border-radius: 4px;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s;
            z-index: 1000;
        }
        
        .toast.show {
            transform: translateX(-50%) translateY(0);
        }
        
        @media (max-width: 600px) {
            .button-group {
                flex-direction: column;
            }
            
            button {
                width: 100%;
                justify-content: center;
            }
            
            .options-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .tab-headers {
                flex-direction: column;
            }
            
            .tab-header {
                border-bottom: 1px solid #e0e0e0;
            }
            
            .file-upload-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .language-tabs {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Base64 编码解码工具</h1>
        
        <div class="input-group">
            <label for="input-text">输入文本</label>
            <textarea id="input-text" placeholder="在此处输入要编码的文本或要解码的Base64字符串..."></textarea>
        </div>
        
        <div class="file-upload-group">
            <button id="upload-btn" class="secondary">
                <span class="material-icons">attach_file</span>
                上传文件
            </button>
            <input type="file" id="file-input" style="display: none;">
            <div class="file-info" id="file-info">未选择文件</div>
        </div>
        
        <div class="options-group">
            <div class="checkbox-container">
                <input type="checkbox" id="filter-chars">
                <label for="filter-chars">过滤非Base64编码字符</label>
            </div>
            <span class="material-icons" style="color: #757575; font-size: 18px;">info</span>
            <span style="font-size: 14px; color: #757575;">勾选后解码时会自动过滤非Base64字符(A-Z, a-z, 0-9, +, /, =)</span>
        </div>
        
        <div class="button-group">
            <button id="encode-btn">
                <span class="material-icons">lock</span>
                编码
            </button>
            <button id="decode-btn">
                <span class="material-icons">lock_open</span>
                解码
            </button>
            <button id="copy-btn" class="secondary">
                <span class="material-icons">content_copy</span>
                复制输出文本
            </button>
        </div>
        
        <div class="output-group">
            <label for="output-text">输出结果</label>
            <textarea id="output-text" placeholder="结果将显示在这里..." readonly></textarea>
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <span class="stat-label">输入字符数</span>
                <span id="input-length" class="stat-value">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">输出字符数</span>
                <span id="output-length" class="stat-value">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">编码/解码状态</span>
                <span id="status" class="stat-value">等待输入</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">成功解码字符数</span>
                <span id="decoded-length" class="stat-value">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">过滤字符数</span>
                <span id="filtered-chars" class="stat-value">0</span>
            </div>
        </div>
    </div>
    
    <div class="container tab-container">
        <div class="tab-headers">
            <div class="tab-header active" data-tab="about">关于Base64</div>
            <div class="tab-header" data-tab="code">代码示例</div>
        </div>
        
        <div class="tab-content active" id="about-tab">
            <div class="info-content">
                <p>Base64是一种基于64个可打印字符来表示二进制数据的表示方法。它常用于在需要处理文本数据的场合，表示、传输、存储一些二进制数据。</p>
                
                <p><strong>Base64 的主要特点：</strong></p>
                <ul>
                    <li>使用64个字符（A-Z, a-z, 0-9, +, /）以及填充字符"="</li>
                    <li>每3个字节的二进制数据可以编码为4个Base64字符</li>
                    <li>如果数据不是3的倍数，会用"="进行填充</li>
                    <li>编码后的数据比原始数据大约增加33%</li>
                </ul>
                
                <p><strong>常见应用场景：</strong></p>
                <ul>
                    <li>在XML、JSON等文本协议中嵌入二进制数据</li>
                    <li>电子邮件中的MIME编码</li>
                    <li>在URL、Cookie、网页中传输少量二进制数据</li>
                    <li>数据加密或数字签名中</li>
                </ul>
                
                <p>Base64编码不是加密，它只是一种编码方式，可以轻松地被解码。因此，它不应该被用于保护敏感信息。</p>
            </div>
        </div>
        
        <div class="tab-content" id="code-tab">
            <div class="language-tabs">
                <div class="language-tab active" data-lang="javascript">JavaScript</div>
                <div class="language-tab" data-lang="python">Python</div>
                <div class="language-tab" data-lang="java">Java</div>
                <div class="language-tab" data-lang="csharp">C#</div>
                <div class="language-tab" data-lang="go">Go</div>
                <div class="language-tab" data-lang="php">PHP</div>
            </div>
            
            <div class="code-section active" id="javascript-code">
                <h3>JavaScript Base64 编码解码</h3>
                <pre><code>// 编码
const encoded = btoa('Hello World');
console.log(encoded); // SGVsbG8gV29ybGQ=

// 解码
const decoded = atob('SGVsbG8gV29ybGQ=');
console.log(decoded); // Hello World

// 处理中文
const encodedChinese = btoa(unescape(encodeURIComponent('你好')));
const decodedChinese = decodeURIComponent(escape(atob(encodedChinese)));</code></pre>
            </div>
            
            <div class="code-section" id="python-code">
                <h3>Python Base64 编码解码</h3>
                <pre><code>import base64

# 编码
text = "Hello World"
encoded = base64.b64encode(text.encode('utf-8')).decode('utf-8')
print(encoded)  # SGVsbG8gV29ybGQ=

# 解码
decoded = base64.b64decode(encoded).decode('utf-8')
print(decoded)  # Hello World

# 文件编码
with open('file.txt', 'rb') as file:
    file_encoded = base64.b64encode(file.read()).decode('utf-8')</code></pre>
            </div>
            
            <div class="code-section" id="java-code">
                <h3>Java Base64 编码解码</h3>
                <pre><code>import java.util.Base64;

// 编码
String text = "Hello World";
String encoded = Base64.getEncoder().encodeToString(text.getBytes());
System.out.println(encoded); // SGVsbG8gV29ybGQ=

// 解码
byte[] decodedBytes = Base64.getDecoder().decode(encoded);
String decoded = new String(decodedBytes);
System.out.println(decoded); // Hello World

// URL安全的编码解码
String urlEncoded = Base64.getUrlEncoder().encodeToString(text.getBytes());
String urlDecoded = new String(Base64.getUrlDecoder().decode(urlEncoded));</code></pre>
            </div>
            
            <div class="code-section" id="csharp-code">
                <h3>C# Base64 编码解码</h3>
                <pre><code>using System;
using System.Text;

// 编码
string text = "Hello World";
byte[] bytes = Encoding.UTF8.GetBytes(text);
string encoded = Convert.ToBase64String(bytes);
Console.WriteLine(encoded); // SGVsbG8gV29ybGQ=

// 解码
byte[] decodedBytes = Convert.FromBase64String(encoded);
string decoded = Encoding.UTF8.GetString(decodedBytes);
Console.WriteLine(decoded); // Hello World

// 处理URL安全的Base64
string urlSafe = encoded.Replace('+', '-').Replace('/', '_').Replace("=", "");</code></pre>
            </div>
            
            <div class="code-section" id="go-code">
                <h3>Go Base64 编码解码</h3>
                <pre><code>package main

import (
    "encoding/base64"
    "fmt"
)

func main() {
    // 编码
    text := "Hello World"
    encoded := base64.StdEncoding.EncodeToString([]byte(text))
    fmt.Println(encoded) // SGVsbG8gV29ybGQ=
    
    // 解码
    decoded, err := base64.StdEncoding.DecodeString(encoded)
    if err != nil {
        panic(err)
    }
    fmt.Println(string(decoded)) // Hello World
    
    // URL编码
    urlEncoded := base64.URLEncoding.EncodeToString([]byte(text))
}</code></pre>
            </div>
            
            <div class="code-section" id="php-code">
                <h3>PHP Base64 编码解码</h3>
                <pre><code>// 编码
$text = "Hello World";
$encoded = base64_encode($text);
echo $encoded; // SGVsbG8gV29ybGQ=

// 解码
$decoded = base64_decode($encoded);
echo $decoded; // Hello World

// URL安全的Base64
$urlSafe = strtr($encoded, '+/', '-_');
$urlSafe = rtrim($urlSafe, '=');</code></pre>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <div class="privacy-note">
            所有处理都在您的浏览器中本地进行。不会向我们的服务器发送任何数据。
        </div>
        <a href="https://github.com/DannerTomas/Base64.Fun" class="github-link" target="_blank">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
            </svg>
            GitHub
        </a>
    </div>
    
    <div id="toast" class="toast">文本已复制到剪贴板</div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const inputText = document.getElementById('input-text');
            const outputText = document.getElementById('output-text');
            const encodeBtn = document.getElementById('encode-btn');
            const decodeBtn = document.getElementById('decode-btn');
            const copyBtn = document.getElementById('copy-btn');
            const uploadBtn = document.getElementById('upload-btn');
            const fileInput = document.getElementById('file-input');
            const fileInfo = document.getElementById('file-info');
            const filterCheckbox = document.getElementById('filter-chars');
            const inputLength = document.getElementById('input-length');
            const outputLength = document.getElementById('output-length');
            const statusEl = document.getElementById('status');
            const decodedLength = document.getElementById('decoded-length');
            const filteredChars = document.getElementById('filtered-chars');
            const toast = document.getElementById('toast');
            const tabHeaders = document.querySelectorAll('.tab-header');
            const languageTabs = document.querySelectorAll('.language-tab');
            const codeSections = document.querySelectorAll('.code-section');

            switchLanguage('javascript');
            
            function updateStats() {
                inputLength.textContent = inputText.value.length;
                outputLength.textContent = outputText.value.length;
            }
            
            function filterNonBase64Chars(str) {
                const base64Chars = /[A-Za-z0-9+/=]/g;
                const matches = str.match(base64Chars);
                return matches ? matches.join('') : '';
            }
            
            function encodeBase64() {
                try {
                    const encoded = btoa(unescape(encodeURIComponent(inputText.value)));
                    outputText.value = encoded;
                    statusEl.textContent = '编码成功';
                    statusEl.style.color = '#4caf50';
                    decodedLength.textContent = 'N/A';
                    filteredChars.textContent = '0';
                    updateStats();
                } catch (error) {
                    outputText.value = '编码错误：输入包含无效字符';
                    statusEl.textContent = '编码失败';
                    statusEl.style.color = '#f44336';
                    decodedLength.textContent = '0';
                    filteredChars.textContent = '0';
                    updateStats();
                }
            }
            
            function decodeBase64() {
                try {
                    let base64String = inputText.value;
                    const dataUrlMatch = base64String.match(/^data:.+?;base64,(.+)$/);
                    if (dataUrlMatch) {
                        base64String = dataUrlMatch[1];
                    }
                    
                    const originalLength = base64String.length;
                    
                    if (filterCheckbox.checked) {
                        const beforeFilterLength = base64String.length;
                        base64String = filterNonBase64Chars(base64String);
                        const afterFilterLength = base64String.length;
                        filteredChars.textContent = beforeFilterLength - afterFilterLength;
                    } else {
                        base64String = base64String.replace(/\s/g, '');
                        filteredChars.textContent = originalLength - base64String.length;
                    }
                    
                    if (base64String.length === 0) {
                        outputText.value = '';
                        statusEl.textContent = '输入为空或过滤后无有效Base64字符';
                        statusEl.style.color = '#ff9800';
                        decodedLength.textContent = '0';
                        updateStats();
                        return;
                    }
                    
                    try {
                        const decoded = decodeURIComponent(escape(atob(base64String)));
                        outputText.value = decoded;
                        statusEl.textContent = '解码成功';
                        statusEl.style.color = '#4caf50';
                        decodedLength.textContent = base64String.length;
                        updateStats();
                        return;
                    } catch (fullError) {
                        let successfullyDecoded = '';
                        let lastValidIndex = 0;
                        
                        for (let i = 4; i <= base64String.length; i += 4) {
                            try {
                                const segment = base64String.substring(0, i);
                                const decodedSegment = decodeURIComponent(escape(atob(segment)));
                                successfullyDecoded = decodedSegment;
                                lastValidIndex = i;
                            } catch (segmentError) {
                                break;
                            }
                        }
                        
                        if (lastValidIndex > 0) {
                            outputText.value = successfullyDecoded;
                            statusEl.textContent = `部分解码成功 (${lastValidIndex}/${base64String.length} 字符)`;
                            statusEl.style.color = '#ff9800';
                            decodedLength.textContent = lastValidIndex;
                        } else {
                            outputText.value = '解码错误：无效的Base64字符串';
                            statusEl.textContent = '解码失败';
                            statusEl.style.color = '#f44336';
                            decodedLength.textContent = '0';
                        }
                        
                        updateStats();
                    }
                } catch (error) {
                    outputText.value = '解码错误：处理过程中发生异常';
                    statusEl.textContent = '解码失败';
                    statusEl.style.color = '#f44336';
                    decodedLength.textContent = '0';
                    filteredChars.textContent = '0';
                    updateStats();
                }
            }
            
            function copyToClipboard() {
                if (outputText.value) {
                    outputText.select();
                    document.execCommand('copy');
                    
                    toast.classList.add('show');
                    setTimeout(() => {
                        toast.classList.remove('show');
                    }, 2000);
                }
            }
            
            function handleFileUpload(event) {
                const file = event.target.files[0];
                if (!file) return;
                
                fileInfo.textContent = `已选择文件: ${file.name} (${(file.size / 1024).toFixed(2)} KB)`;
                
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    inputText.value = e.target.result;
                    updateStats();
                };
                
                reader.onerror = function() {
                    fileInfo.textContent = '文件读取错误';
                };
                
                reader.readAsText(file);
            }
            
            function switchTab(tabName) {
                tabHeaders.forEach(header => {
                    header.classList.toggle('active', header.dataset.tab === tabName);
                });
                
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.toggle('active', content.id === `${tabName}-tab`);
                });
                
                if (tabName === 'code') {
                    const currentLangTab = document.querySelector('.language-tab.active');
                    if (currentLangTab) {
                        const currentLang = currentLangTab.dataset.lang;
                        switchLanguage(currentLang);
                    }
                }
            }
            
            function switchLanguage(lang) {
                languageTabs.forEach(tab => {
                    tab.classList.toggle('active', tab.dataset.lang === lang);
                });
                
                codeSections.forEach(section => {
                    section.classList.toggle('active', section.id === `${lang}-code`);
                });
            }
            
            encodeBtn.addEventListener('click', encodeBase64);
            decodeBtn.addEventListener('click', decodeBase64);
            copyBtn.addEventListener('click', copyToClipboard);
            
            uploadBtn.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', handleFileUpload);
            
            inputText.addEventListener('input', updateStats);
            outputText.addEventListener('input', updateStats);
            
            tabHeaders.forEach(header => {
                header.addEventListener('click', () => switchTab(header.dataset.tab));
            });
            
            languageTabs.forEach(tab => {
                tab.addEventListener('click', () => switchLanguage(tab.dataset.lang));
            });
            
            updateStats();
        });
    </script>
</body>
</html>
